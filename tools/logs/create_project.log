#-----------------------------------------------------------
# Vivado v2021.2 (64-bit)
# SW Build 3367213 on Tue Oct 19 02:47:39 MDT 2021
# IP Build 3369179 on Thu Oct 21 08:25:16 MDT 2021
# Start of session at: Thu Jul 21 09:32:43 2022
# Process ID: 28436
# Current directory: /home/licit/laboratorio-6-jarvis/tools
# Command line: vivado -nojournal -log logs/create_project.log -mode batch -source scripts/create_project.tcl
# Log file: /home/licit/laboratorio-6-jarvis/tools/logs/create_project.log
# Journal file: 
# Running On: debian, OS: Linux, CPU Frequency: 3626.632 MHz, CPU Physical cores: 4, Host memory: 16660 MB
#-----------------------------------------------------------
source scripts/create_project.tcl
# set src_dir    "$::env(SOURCE)"
# set dest_dir   "$::env(DESTINY)"
# set proj_name  "$::env(NAME)"
# set part       "$::env(PART)"
# set brd_part   "$::env(BOARD_PART)"
# cd $dest_dir
# puts "INFO: Creating new project in $dest_dir"
INFO: Creating new project in /home/licit/laboratorio-6-jarvis/vivado/prject1
# create_project -force $proj_name $dest_dir
# set proj_dir [get_property directory [current_project]]
# set obj [get_projects $proj_name]
# set_property "default_lib" "xil_defaultlib" $obj
# set_property "part" $part $obj
# set_property "board_part" $brd_part $obj
# set_property "simulator_language" "Mixed" $obj
# set_property "target_language" "Verilog" $obj
# if {[string equal [get_filesets -quiet sources_1] ""]} {
#   create_fileset -srcset sources_1
# }
# if {[string equal [get_filesets -quiet constrs_1] ""]} {
#   create_fileset -constrset constrs_1
# }
# if {[string equal [get_filesets -quiet sim_1] ""]} {
#   create_fileset -constrset sim_1
# }
# add_files $src_dir/picorv32/picorv32.v
# add_files $src_dir/verilog/system.v
# add_files $src_dir/firmware/firmware.hex
# set_property top system [current_fileset]
# add_files -fileset constrs_1 -norecurse $src_dir/constraints/system.xdc
# add_files -fileset sim_1 $src_dir/verilog/system_tb.v
# add_files -fileset sim_1 $src_dir/firmware/firmware.hex
# set_property top system_tb [get_filesets sim_1]
# set_property top_lib xil_defaultlib [get_filesets sim_1]
# if {[string equal [get_runs -quiet synth_1] ""]} {
#   create_run -name synth_1 -part $part -flow {Vivado Synthesis 2018} -strategy "Vivado Synthesis Defaults" -constrset constrs_1
# } else {
#   set_property strategy "Vivado Synthesis Defaults" [get_runs synth_1]
#   set_property flow "Vivado Synthesis 2018" [get_runs synth_1]
# }
# set obj [get_runs synth_1]
# set_property "part" $part $obj
# set_property "steps.synth_design.args.flatten_hierarchy" "none" $obj
# set_property "steps.synth_design.args.directive" "RuntimeOptimized" $obj
# set_property "steps.synth_design.args.fsm_extraction" "off" $obj
# current_run -synthesis [get_runs synth_1]
# set_property -name {STEPS.SYNTH_DESIGN.ARGS.MORE OPTIONS} -value {-verilog_define SINTESIS} -objects [get_runs synth_1]
# if {[string equal [get_runs -quiet impl_1] ""]} {
#   create_run -name impl_1 -part $part -flow {Vivado Implementation 2018} -strategy "Vivado Implementation Defaults" -constrset constrs_1 -parent_run synth_1
# } else {
#   set_property strategy "Vivado Implementation Defaults" [get_runs impl_1]
#   set_property flow "Vivado Implementation 2018" [get_runs impl_1]
# }
# set obj [get_runs impl_1]
# set_property "part" $part $obj
# set_property "steps.opt_design.args.directive" "RuntimeOptimized" $obj
# set_property "steps.place_design.args.directive" "RuntimeOptimized" $obj
# set_property "steps.route_design.args.directive" "RuntimeOptimized" $obj
# current_run -implementation [get_runs impl_1]
# set_property STEPS.WRITE_BITSTREAM.ARGS.BIN_FILE true [get_runs impl_1]
# puts "INFO: Project created:$proj_name"
INFO: Project created:prject1
INFO: [Common 17-206] Exiting Vivado at Thu Jul 21 09:32:54 2022...
